import xapi.gradle.plugin.XapiBasePlugin

buildscript({

    dependencies {
        classpath 'net.wti.gradle:xapi-gradle-plugin:0.5.1'
    }
})
plugins { id 'xapi' }
evaluationDependsOn(':xapi-collect')
plugins.withType(XapiBasePlugin).configureEach({ p->
    p.addTypes project, 'api', 'spi', 'main', 'gwt', 'jre'
})

dependencies {
    xapiSpi "net.wti.core:xapi-fu:${->version}"
    xapiSpi "net.wetheinter:xapi-core-api:${->version}"
    xapiSpi "net.wetheinter:xapi-collect-api:${->version}"
    // non-maven-mapped configurations don't work.  TODO: try publishing w/ ivy? :-/
//    xapiSpi group: 'net.wetheinter', name: 'xapi-collect-api', version: version, configuration: 'xapiApi'
}
