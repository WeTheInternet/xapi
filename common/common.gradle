buildscript({
    dependencies {
        classpath group: 'net.wti.gradle.tools', name: 'xapi-gradle-tools', version: version, changing: true
    }
})
plugins { id 'xapi-require' }
evaluationDependsOn(':schema')

String v = version
xapiRequire {
    main.main.external "net.wti.core:xapi-fu:$v"
    main.main.external "net.wti.core:xapi-anno:$v"
    main.main.external "net.wti.core:xapi-gen:$v"
}

/*
apply from: "$rootDir/gradle/xapi-env.gradle"
repositories {
    jcenter()
}

apply from: "$rootDir/gradle/processor.gradle"
*/

xapiRequire {
    main.test.external "net.wti.core:xapi-fu:$v"
}

dependencies {
    // TODO: make this implementation and then force alllll downstream users to add this as well.
    compile 'javax.inject:javax.inject:1'
    // alternatively, make it compile-transitive from xapi-inject, so at least it's obvious consumer wants @Inject
    compile 'javax.annotation:javax.annotation-api:1.2'
    annotationProcessor "net.wti.gradle:xapi-dev-mirror:$v"
    testCompile 'junit:junit:4.12'
}
description = 'XApi - Core Interfaces and Abstractions'
