buildscript({
    dependencies {
        classpath group: 'net.wti.gradle.tools', name: 'xapi-gradle-tools', version: version, changing: true
    }
})
plugins { id 'xapi-require' }
evaluationDependsOn(':schema')

String v = version
xapiRequire {
    main.api.external "net.wti.core:xapi-fu:$v"
    
    // blech... this should work, but it winds up trying to suck in the apiExportCompile,
    // so we'll want to extend string path support + add map path support.
//    main.api.project ':xapi-core-parent:xapi-core-api'
    // so, instead, we do this:
    main.api.internal ':xapi-core-parent:xapi-core-api:main:main'
}

//dependencies {
//    xapiApi "net.wti.core:xapi-fu:${->version}"
//    // TODO: delete/reduce this dependency
////    xapiApi "net.wetheinter:xapi-core-api:${->version}"
//    xapiApi project(':xapi-core-parent:xapi-core-api')
//}
