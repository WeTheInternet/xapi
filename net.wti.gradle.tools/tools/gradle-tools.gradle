plugins {
    id 'java-library'
    id 'groovy'
    id 'java-gradle-plugin'
}

description = '''Xapi Gradle Tools: Pure gradle tools, suitable for (re)use by all modules.
This handles the basics of publishing and path manifest production.'''

repositories.jcenter()

sourceCompatibility = '1.8'

dependencies {
    compileOnly gradleApi()
    testCompile project(':xapi-gradle-test')

    // uncomment / copy+paste dependencies below to unlock class mocking in spock.
    // you might only need one of them...
    // (update above comment when used next)
//    testRuntime 'net.bytebuddy:byte-buddy:1.9.9',
//                'org.objenesis:objenesis:3.0.1'
    compile project(':xapi-gradle-core')
}

sourceSets.main.groovy.srcDirs = []

gradlePlugin {
    plugins {
        xapiSchema {
            id = 'xapi-schema'
            implementationClass = 'net.wti.gradle.schema.plugin.XapiSchemaPlugin'
        }
        xapiClasspath {
            id = 'xapi-classpath'
            implementationClass = 'net.wti.gradle.classpath.plugin.XapiClasspathPlugin'
        }
        xapiRequire {
            id = 'xapi-require'
            implementationClass = 'net.wti.gradle.require.plugin.XapiRequirePlugin'
        }
    }
}
