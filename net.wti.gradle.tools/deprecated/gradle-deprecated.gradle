plugins {
    id 'java-library'
    id 'groovy'
    id 'java-gradle-plugin'
}

description = '''Xapi Gradle Deprecated: Older tools from the days of configure-during-project-evaluation.'''

repositories.jcenter()

sourceCompatibility = '1.8'

dependencies {
    compileOnly gradleApi()
    testImplementation project(':xapi-gradle-test')
    testImplementation 'net.bytebuddy:byte-buddy:1.11.0'
    testImplementation 'junit:junit:4.12'
    implementation project(':xapi-gradle-core')
    implementation project(':xapi-gradle-tools')
}

sourceSets.main.groovy.srcDirs = []

gradlePlugin {
    plugins {
        xapiPublish {
            id = 'xapi-publish'
            implementationClass = 'net.wti.gradle.publish.plugin.XapiPublishPlugin'
        }
    }
}
